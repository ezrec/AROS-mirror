--------------------------------
MUI TheBar MCC class - ChangeLog
--------------------------------

$Id: ChangeLog 457 2013-04-25 15:49:12Z damato $
$URL: svn://svn.code.sf.net/p/thebar/code/releases/26.12/ChangeLog $

#### v26.12 RELEASE ###########################################################

2013-04-25 Jens Langner <Jens.Langner@light-speed.de>

  * misc: final 26.12 release preparations

2013-04-24 Thore Böckelmann <tboeckel@gmx.de>

  * mcp/locale/greek.ct: updated greek translation kindly provided by Antonis
    Iliakis.

2013-03-06 Thore Böckelmann <tboeckel@gmx.de>

  * include/mccinit.c, include/shellstart.c: rearranged the code to ensure that
    trying to start the final class from a shell does not crash.

2013-02-19 Thore Böckelmann <tboeckel@gmx.de>

  * mcc/class.c: TheBar.mcc will now check the dimensions of separated selected
    and disabled images against the dimension of the normal image. A warning
    requester will be displayed in case the dimensions do not match to inform the
    developer/user of this issue, because mismatching dimensions might cause
    trashed memory under certain circumstances otherwise.

2013-02-14 Thore Böckelmann <tboeckel@gmx.de>

  * mcc/button/utils.c: removed some unneeded code and cleaned up the openFont()
    function.

2013-02-11 Thore Böckelmann <tboeckel@gmx.de>

  * demo/misc: revisited all demos to be self-consistent. That means that all
    demos enforce the application controlled appearance instead of using the
    global user prefs. This is necessary to ensure that the toolbar's look
    always exactly matches like the settings buttons' state.

2013-01-19 Jens Langner <Jens.Langner@light-speed.de>

  * mcc/class.c, mcc/button/class.c: reenabled UseGroupBack and UseButtonBack
    checkbox even for MOS MUI4. Also changed default appearance flags to include
    borderless buttons.
  * mcc/class.c, mcc/button/class.c: MUICFG_TheBar_UseGroupBack and
    MUICFG_TheBar_UseButtonBack will also be queried on MUI4 installations as
    a user wants to be also able to define if the chosen color should be used
    or not.
  * include/mui/TheBar_mcp.h: changed some default values for the image precision
    and the default spacer size.

2013-01-15 Thore Böckelmann <tboeckel@gmx.de>

  * mcp/utils.c: used a fixed height of 0 to enforce a suitable height of all
    pen and frame buttons.

2013-01-09 Thore Böckelmann <tboeckel@gmx.de>

  * mcp/locale/german.ct: fixed a completely wrong translation.
  * mcp/locale.c: fixed the wrong catalog name to be opened.

#### v26.11 RELEASE ###########################################################

2012-12-20 Jens Langner <Jens.Langner@light-speed.de>

  * misc: final 26.11 release preparations

2012-10-15 Thore Böckelmann <tboeckel@gmx.de>

  * misc: revert some of Matthias Rustler's AROS specific changes to make
    everything run again without crashes.

2012-10-09 Thore Böckelmann <tboeckel@gmx.de>

  * mcc/utils.c, mcc/button/utils.c: reverted the AROS specific modification of
    DoSuperNew() to the previous state. The last change done by Matthias Rustler
    crashes AROS distributions like Icaros so badly that even VirtualBox shuts
    down the virtual machine.

2012-09-20 Thore Böckelmann <tboeckel@gmx.de>

  * mcp/utils.c: replaced the inner workings of stch_l() by strtoul().
  * mcp/class.c: don't trigger notifications in MUIM_Mccprefs_ConfigToGadgets.

2012-09-11 Thore Böckelmann <tboeckel@gmx.de>

  * mcp/class.c: rearranged the pages to be displayable on small screens aswell.

2012-08-28 Thore Böckelmann <tboeckel@gmx.de>

  * mcp/class.c: adjusted the crawling text to better match the capabilities of
    Crawling.mcc.

2012-08-27 Thore Böckelmann <tboeckel@gmx.de>

  * mcc/build.c, mcc/button/build.c: correctly respect MUIV_TheBar_SkipPic as raw
    image data pointer. Thanks to Andreas Falkenhahn for the hint.
  * doc/TheBar.doc: added some "SEE ALSO" passages for attributes which might get
    overridden by the configured default settings if MUIA_TheBar_IgnoreAppearance
    is not set to FALSE.

2012-08-11 Thore Böckelmann <tboeckel@gmx.de>

  * mcc/button/class.c: changed the way the control character is drawn to match
    MUI's approach.

#### v26.10 RELEASE ###########################################################

2012-08-05 Jens Langner <Jens.Langner@light-speed.de>

  * misc: final 26.10 release preparations

2012-06-19 Thore Böckelmann <tboeckel@gmx.de>

  * mcc/utils.c, mcc/button/utils.c: don't allocate locked memory.

2012-05-16 Pär Boberg <pbobbenb@spray.se>

  * mcp/locale/swedish.ct: minor changes.

2012-05-15 Thore Böckelmann <tboeckel@gmx.de>

  * mcc/class.c, mcc/button/class.c: changed a lot of non-AmigaOS3 code to
    dynamically depend on the availibility of MUI4 for better flexibility.

2012-05-14 Thore Böckelmann <tboeckel@gmx.de>

  * mcp/Makefile: removed .catalog files in clean target.
  * mcp/locale/TheBar_mcp.cd: replaced non-ASCII character 0xa0 by space.

#### v26.9 RELEASE ############################################################

2012-05-12 Jens Langner <Jens.Langner@light-speed.de>

  * misc: final 26.9 release preparations

2012-05-07 Thore Böckelmann <tboeckel@gmx.de>

  * mcc/class.c: enabled the special handling within MUIM_Draw for all supported
    platforms, although this only applies for pre-MUI4 systems.

2012-04-07 Jens Langner <Jens.Langner@light-speed.de>

  * Makefile: removed -funroll-loops as this is potentially dangerous.

2012-04-04 Thore Böckelmann <tboeckel@gmx.de>

  * mcc/button/class.c: made the borderless mode working again with MUI 3.x.

2012-03-30 Thore Böckelmann <tboeckel@gmx.de>

  * mcc/button/class.c: use the MUI4+ attribute MUIA_KnowsDisabled to indicate
    that TheButton.mcc has its own method to indicate disabled objects. For
    MUI3 the well known disable pattern will be drawn.
  * mcc/button/class.c: restored some former code to correctly reenable
    borderless buttons. This was accidentally removed by mrustlers last commit.

2010-06-03 Matthias Rustler <mrustler@gmx.de>

  * misc: Backport of some AROS fixes.
  * SDI headers updated.

2012-01-23 Thore Böckelmann <tboeckel@gmx.de>

  * all/Makefile: added __amigaos3__ symbol for the OS3 build.
  * button/class.c: fixed dynamic frames in borderless mode.

#### v26.8 RELEASE ############################################################

2011-11-26 Jens Langner <Jens.Langner@light-speed.de>

  * misc: final 26.8 release preparations

2011-01-04 Thore Böckelmann <tboeckel@gmx.de>

  * all/Makefile: fixed the dependency generation to respect the system specific
    object file path.

2011-01-21 Thore Böckelmann <tboeckel@gmx.de>

  * mcp/locale/turkish.ct: added turkish translation kindly provided by Alper
    Sönmez.

2010-11-16 Thore Böckelmann <tboeckel@gmx.de>

  * build.c, SetPatch.c: replaced the version check of graphics.library by a
    more appropriate check of the installed SetPatch command.

2010-11-15 Thore Böckelmann <tboeckel@gmx.de>

  * mcc/build.c, mcc/class.c, mcc/button/build.c: implemented very simple
    replacements for WriteChunkyPixels() and ReadPixelLine8() in the OS3 build.
    This fixes the graphic corruption on pure classic machines running OS3.1.
    This closes #2849043.

2010-10-05 Thore Böckelmann <tboeckel@gmx.de>

  * include/mccinit.c: make sure that removing the library during LibClose()
    really operates on the correct base. Calling LibExpunge() on MorphOS is
    wrong, since that takes no parameter but expects the base to be in A6. We
    work around this by using an additional function which gets called from
    LibClose() and LibExpunge() with the correct base pointer.

#### v26.7 RELEASE ############################################################

2010-09-23 Jens Langner <Jens.Langner@light-speed.de>

  * misc: final 26.7 release preparations

2010-09-18  Pär Boberg <pbobbenb@spray.se>

  * mcp/locale/swedish.ct: new file generated by FlexCat 2.7.

2010-09-08 Mariusz Danilewicz <mandi@interia.pl>

  * AUTHORS: added translators section (please check and update missing persons).

2010-09-07 Thore Böckelmann <tboeckel@gmx.de>

  * mccinit.c: added missing #include <string.h> for memset().

2010-09-03 Thore Böckelmann <tboeckel@gmx.de>

  * mccinit.c, #?/utils.c: updated to the latest version and clear all embedded
    semaphore structures before calling InitSemaphore().

#### v26.6 RELEASE ############################################################

2010-09-01 Jens Langner <Jens.Langner@light-speed.de>

  * misc: final 26.6 release preparations

2010-08-30 Jens Langner <Jens.Langner@light-speed.de>

  * include/mccinit.c: updated to latest fixed version
  * misc: unified all DoSuperNew() functions and used VA_LIST rather than the
    SLOWSTACK stuff on AROS.

2010-08-17 Thore Böckelmann <tboeckel@gmx.de>

  * mccinit.c, SDI_compiler.h: updated to latest versions.

2010-07-08 Thore Böckelmann <tboeckel@gmx.de>

  * mccinit.c, Debug.c: updated to latest mccinit.c and added CleanupDebug()
    function needed by mccinit.c.

2010-06-29 Thore Böckelmann <tboeckel@gmx.de>

  * mcp/locale/swedish.ct: added ##codeset line.

2010-06-11 Thore Böckelmann <tboeckel@gmx.de>

  * Install-MCC: extended the final message that a reboot might be necessary to
    be able to use the just installed version.

2010-06-07 Thore Böckelmann <tboeckel@gmx.de>

  * mcp/backgroundadjust.c: fixed a warning due to the latest changes.

2010-06-06 Thore Böckelmann <tboeckel@gmx.de>

  * include/SDI_compiler.h: updated to latest version.

2010-06-04 Thore Böckelmann <tboeckel@gmx.de>

  * mcp/class.c: fixed a warning due to the latest changes.

2010-06-03 Matthias Rustler <mrustler@gmx.de>

  * fixes for 64-bit AROS. Some warnings removed.
    Storage variable for GetAttr, GetDTAttr... must be able to keep a 64-bit value!

2010-05-27 Thore Böckelmann <tboeckel@gmx.de>

  * dist/Install-MCC: the supported languages are now collected dynamically
    instead of being defined statically. Furthermore the .mcc name must be
    specified in the script's icon as application name. This makes it possible
    to use the script for arbitrary classes without modification.
  * dist/icons: set some reasonable default icon positions.

2010-05-26 Mariusz Danilewicz <mandi@interia.pl>

  * mcp\locale\polish.ct: added Polish translation
  * tools\mkrelease.sh: added generating Polish catalog to release
  * mcp\makefile and mmakefile.src: added generating Polish catalog
  * dist/Install-MCC: added support to Polish catalog

2010-05-26 Thore Böckelmann <tboeckel@gmx.de>

  * dist/Install-MCC: added the first version of a generic MCC Installer script.
    To use this script for other classes only the name and the set of supported
    languages needs to be adapted.

2010-05-25 Matthias Rustler <mrustler@gmx.de>

  * mccinit.c: updated for AROS V1 API
  * french.ct: there was a more recent version in AROS

2010-05-20 Thore Böckelmann <tboeckel@gmx.de>

  * Makefiles: add varargs stubs only for those systems which really need it.

2010-05-19 Thore Böckelmann <tboeckel@gmx.de>

  * mcp/locale/TheBar_mcp.cd: renamed file to follow the common naming rules.
  * added stuff for automated build of release archives.

2010-04-30 Thore Böckelmann <tboeckel@gmx.de>

  * mcp/library.c: added version check for NBitmap.mcc. Only version V15.8+ can
    handle raw image data.
  * mcp/library.c: removed dependency from cybergraphics.library for OS4,
    because OS4's MUI 3.9 can handle gradients natively.

2010-04-27 Thore Böckelmann <tboeckel@gmx.de>

  * mcp/library: all systems now try to create a truecolor prefs image using
    Rawimage.mcc first before falling back to the old 8bit images.

2010-04-26 Thore Böckelmann <tboeckel@gmx.de>

  * mcp/misc: merged all converted image data into one file, moved the image
    files to a separate subdirectory, combined the prefs icon generation for
    all platform into one function.

2010-04-24 Thore Böckelmann <tboeckel@gmx.de>

  * include/mccinit.c: updated to latest version. This fixes the stack swapping
    for AROS.

2010-04-12 Thore Böckelmann <tboeckel@gmx.de>

  * mcp/misc: added 32bit truecolor prefs image done by Martin 'Mason' Merz.
    This requires at least MUI3.9 and AmigaOS 4.1.

2010-01-05 Thore Böckelmann <tboeckel@gmx.de>

  * mcc/build.c, mcc/button/build.c: changed some ULONG variables to BOOL as
    this is what they really are.

2009-10-26  Pär Boberg <pbobbenb@spray.se>

  * mcp/locale/swedish.ct: Updated according to changes.

#### v26.5 RELEASE ############################################################

2009-10-24 Jens Langner <Jens.Langner@light-speed.de>

  * misc: final release preparations

2009-10-14 Thore Böckelmann <tboeckel@gmx.de>

  * mcc/class.c: added a missing ENTER() statement.

2009-10-06 Thore Böckelmann <tboeckel@gmx.de>

  * mcc/utils.c: dropped the no longer needed reallocation code completely.
  * mcc/class.c: did some minor code cleanup and replaced a somewhat obscure
    reallocation by a simple allocation.

2009-10-04 Thore Böckelmann <tboeckel@gmx.de>

  * mcc/class.c: implemented MUIM_TheBar_NoNotifySetAttr to set attributes of
    single buttons without triggering any notifications.

2009-09-24 Thore Böckelmann <tboeckel@gmx.de>

  * mcc/misc: renamed all pool functions to "*Shared*" as this describes what
    they really do.

2009-09-21 Thore Böckelmann <tboeckel@gmx.de>

  * mcc/build.c: readded the instance data for the RGBtoRGB call. The OS3 build
    needs this.

2009-09-20 Thore Böckelmann <tboeckel@gmx.de>

  * mcc/utils.c, mcc/button/utils.c: added the missing semaphore protection
    for the OS4 build.

2009-09-19 Thore Böckelmann <tboeckel@gmx.de>

  * misc: replaced the per-instance memory pool by a global and semaphore
    protected one. There is absolutely no benefit in having a separate pool
    for every instance with only just one allocation within this pool.
  * misc: added a name to all memory pools for OS4.

#### v26.4 RELEASE ############################################################

2009-08-30 Jens Langner <Jens.Langner@light-speed.de>

  * misc: final release preparations

2009-08-14 Thore Böckelmann <tboeckel@gmx.de>

  * Makefiles: added "-g" to the debug flags. It seems the OS3 GCC 2.95.3 cross
    compiler needs this to generate debug infos at all.

2009-06-12  Gianfranco Gignina <sh1nkur0@libero.it>

  * doc/MCC_TheBar.doc: values of MUIA_TheBar_RemoveSpacers were wrong,
    fixed.

2009-06-02 Jens Langner <Jens.Langner@light-speed.de>

  * include/mccinit.c: updated the generic MCC library init header to the
    very latest version available with additional fixes for AROS compilation.

2009-05-27 Jens Langner <Jens.Langner@light-speed.de>

  * mcp/locale: renamed the "Bar spacer" checkbox label to "Force Bar spacer"
    as that should make it more clear what the real purpose of this checkbox
    is. In addition, the help text was slightly adapted to reflect the
    real purpose of it.

2009-05-26 Matthias Rustler <mrustler@gmx.de>

  * Added a fix for the AROS metamakefiles which makes it possible
    to build TheBar outside the source tree.

2009-05-26  Gianfranco Gignina <sh1nkur0@libero.it>

  * mcc/class.c: When TheButton class is subclassed and pointer to this
    subclass is added to struct MUIS_TheBar_Button like documentation said,
    this subclass is not used for image spaces. More precisely, If it's used
    as space MUIV_TheBar_ImageSpacer value, you should obtain setting
    MUIA_TheBar_SpacerIndex to a right image number a TheButton object
    which has same features of your TheButton subclass, and this
    didn't happen. This fix solve this problem without damage normal behaviour
    of TheBar. This fix permit to have a d&d space in case of
    MUIV_TheBar_ImageSpacer and MUIA_TheBar_SpacerIndex right setted.
    Now it's possible to sort, remove and add an (image) space button.
  * doc/MCC_TheBar.doc: Specified an important step to use a TheButton subclass
    with TheBar.

#### v26.3 RELEASE ############################################################

2009-05-25 Jens Langner <Jens.Langner@light-speed.de>

  * misc: bumped version date/revision and updated all readme files for the
    new 26.3 release - Now with AROS binaries ;)

2009-05-25 Thore Böckelmann <tboeckel@gmx.de>

  * mccinit.c: fixed the last compiler warning for OS3. AROS uses an APTR type
    for StackSwapStruct->stk_Upper while all other systems use ULONG.

2009-05-24 Jens Langner <Jens.Langner@light-speed.de>

  * misc: fixed all the rest of the compiler warnings when compiling for
    AROS. Now the compilation should be clean and the binaries should work
    on all supported platforms. Time for a new release? ;)
  * include/mccinit.c: added some minor fixes to get rid of all the still
    existing compiler warnings when compiling for AROS.
  * misc: reverted the latest TAGSTATE change and used (APTR) casts in each
    NextTagItem() call which also fixes the issue and also utilises the const
    TagItem pointer for other platforms than AROS.

2009-05-24 Thore Böckelmann <tboeckel@gmx.de>

  * #?/class.h, misc: introduced new macro TAGSTATE, because the argument of
    NextTagItem() seems to be very different on the various systems and the
    latest changes produce warnings about incompatible pointer types on OS4
    again.

2009-05-23 Matthias Rustler <mrustler@gmx.de>

  * Get rid of all warnings like
    passing argument 1 of '(struct TagItem *
    (*)(const struct TagItem **, void *))(void *)*(ULONG *)(unsigned char
    *)&((struct JumpVec *)UtilityBase + 4294967264u)->vec' from incompatible
    pointer type
    (Under AROS the argument of NextItem() is a "const struct TagItem **")
  * Don't use #pragma packed on AROS-PPC.
  * Get rid of all warnings for format strings (e.g. %ld requires long int
    but LONG given)

2009-05-22 Jens Langner <Jens.Langner@light-speed.de>

  * include/mui/TheBar_mcc.h: we only use the xxx_OBJMACRO_START
    macros in our public header in case NO_INLINE_STDARG is not
    specified. This finally allows to compile TheBar with an AROS
    cross compiler again.

2009-05-22 Matthias Rustler <mrustler@gmx.de>

  * Bugfix: wrong order of arguments for GetAttr (only on AROS)
  * Some 64-bit fixes
  * Some warnings removed (integer <=> pointer conversion)
  * Using of -DNO_INLINE_STDARG in the AROS metamakefiles made
    it almost needless to use xxx_OBJMACRO_START together with
    MUIMASTER_YES_INLINE_STDARG. The only place where I still
    have to keep them are the public headers, because if an
    application developer sets the MUIMASTER_YES... macro it
    will not compile.
  * Renamed TheBar*t*Virt.mcc to TheBarVirt.mcc
  * Made the AROS version compiling with the normal Makefiles.
    Copied AROS version of mui.h into include/libraries. If I
    compile with the standard mui.h TheBar.mcp refuses to start
    with strange error message (can't find crawler). As I wasn't
    able to find the reason I copied the whole file.
    Adjusted the Makefile for the demos.
    Sync'd demos/vastubs.c with those for mcc/mcp

2009-05-18 Thore Böckelmann <tboeckel@gmx.de>

  * mcp/coloradjust.c: added missing macro for creating ColorWheels and
    GradientSliders.

2009-05-17 Matthias Rustler <mrustler@gmx.de>

  * misc: Made TheBar buildable by the AROS build-system again. Use the
    build_module_simple macro instead of build_module. This means that the
    library initialisation code is used from TheBar instead of the AROS
    build-system. Some minor 64-bit fixes (STACKED, IPTR).

2009-05-06 Jens Langner <Jens.Langner@light-speed.de>

  * misc: adapted all sources to be compilable with an AROS cross compiler
    rather than having to directly use the AROS build system. Now also SDI
    is completely used for AROS compatibility. However, we have to still
    investigate if the cross-compiler compiled AROS binaries work as
    expected. But this is a clear step forward in getting everything
    compiled out-of-the-box with our own build system.

2009-05-04 Thore Böckelmann <tboeckel@gmx.de>

  * include/SDI_lib.h: updated to the latest version.

2009-04-30  Thore Böckelmann <tboeckel@gmx.de>

  * updated the SDI headers to their latest fixed versions.

2009-04-08  Thore Böckelmann <tboeckel@gmx.de>

  * mcp/class.c: changed the about string to match our other public classes and
    to point out that the version displayed is the version of TheBar.mcp and of
    nothing else.

2009-04-05  Thore Böckelmann <tboeckel@gmx.de>

  * updated the SDI headers and mccinit.c to their latest fixed versions.

2009-01-19  Thore Böckelmann <tboeckel@gmx.de>

  * mcc/button/library.c: added another missing TAG_DONE.

2009-01-16  Thore Böckelmann <tboeckel@gmx.de>

  * mcc/button/class.c: added missing TAG_DONE.

2009-01-15  Thore Böckelmann <tboeckel@gmx.de>

  * mcc/button/libary.c: replaced the obsolete CreatePool() and DeletePool()
    calls with AllocSysObject() and FreeSysObject() calls for the OS4 build.
    Additionally the pool is now deleted upon expunge. This was never done
    before!!
  * mcc/button/class.c, mcc/button/utils.c: replace the remaining deprecated
    function calls by AllocSysObject() calls.

2008-12-17  Thore Böckelmann <tboeckel@gmx.de>

  * mcc/class.c: replaced the obsolete CreatePool() and DeletePool() calls with
    AllocSysObject() and FreeSysObject() calls for the OS4 build.

#### v26.2 RELEASE ############################################################

2008-06-19 Jens Langner <Jens.Langner@light-speed.de>

  * misc: final preparations for the upcoming release of v26.2

2008-04-15  Thore Böckelmann <tboeckel@gmx.de>

  * demo/vastubs.c, demo/Makefile: added vararg stubs for OS3 to be able to link
    against clib2.

2008-03-19  Matthias Rustler <mrustler@gmx.de>

  * AROS port updated

2008-03-19  Thore Böckelmann <tboeckel@gmx.de>

  * makefile: modified the toplevel makefile to use AmigaOS commands only and
    not rely on any specific Unix extension of the echo command. "avail flush"
    will surely fail on any Unix system. Replaced all "cd <subdir> && make"
    combinations by "make -C <subdir>" calls. Also replaced all "make" calls
    by "$(MAKE)" which will use the command name which the make process was
    invoked with instead of the hardcoded "make". For OS4 this allows to use
    gmake instead of make.

2008-03-17  Thore Böckelmann <tboeckel@gmx.de>

  * #?/vastubs.c, #?/makefile: added vararg stubs for OS3 to be able to link
    against clib2 which misses these stubs.

2008-03-16  Thore Böckelmann <tboeckel@gmx.de>

  * mcp/loc.c: some code cleanup and added some const specifiers where they
    were possible.
  * mcp/loc_h.sd: removed the const specifier since the array is modified and
    this modification will clash OS4's read-only memory layout.
  * mcp/library.c: fixed some identation issues.

2008-03-11  Alfonso Ranieri <alforan@tin.it>

  * #?/library.c ClassInit() changed
  * mcp/library.c locale.library is now needed
  * #?/makefile little changes to check for DEBUG in a
    better way
  * added trunk/makefile that build/clean everything
  * mcp/loc.c removed "register" usage
  * button/class.c changed "tidata" to "tidata ? TRUE :FALSE"
    in superset of MUIA_Selected in mSets()
  * #?/makefiles added cleanall
  * mcc/makefile does compile TheBar-Test now
  * #?makefile/added help and cleanall targets
  * #? removed copymem() for memcpy()
  * TheBar-Test.c fixed to compile and work. It freezed on MorphOS

2008-03-11  Vit Sindlar <sindlarv at centrum dot cz>

  * mcp/locale/czech.ct: updated Czech catalog translation

2008-03-10  Alfonso Ranieri <alforan@tin.it>
  (Less) Big changes again:
  * makefiles rewritten. Sorry the previous ignored dependencies
    (try "make && touch rev.h && make", if you don't believe me...).
    The main difference is that now DEBUG=1 must be specified if you
    want debugging infos.
  * Other small changes...

2008-03-09  Alfonso Ranieri <alforan@tin.it>
  Big changes:

  * added msprintf() based on RawDoFmt() for MorphOS and OS3.
    OS4 people said clib/newlib sprintf() is to be preferred.
    Don't know about Aros, so I left sprintf() usage for it.

  * Changed the way localization works. Restored my old locale
    handling way. Now static arrays are inited in ClassInit() via
    a double lists of strings/id. It is not strictly needed, but it
    will work when mccinit.c will be changed (?) to close/dispose stuff
    in libClose() (I think that is the way libs should work).

  * Many changes, many indeed. Now "private.h" just contains the main class instance
    data and the prototypes of the few functions that operate on it (aka "friends functions").
    private.h should be only included in class.c (and build.c); mccinit.c compels us to
    include it in library.c too. That is not nice, but... All other stuff are in class.h and
    in class_protos.h. All the changes above generated a chain of changes to Makefile,
    dependencies and so on. I don't think I broke anything. All compiles fine (but for OS4
    for which I STILL need the missing definitions of the Blit stuff).
    Some files were moved to more "reasonable" position. F.e., TheBar.cd is now in mcp and not in
    mcp/locale and TheBar_mcp.h is in include/mui .

  * Probably other things I don't remember...


2008-03-06  Pär Boberg <pbobbenb@spray.se>

  * mcp/locale/swedish.ct: Updated according to changes.

2008-03-04  Thore Böckelmann <tboeckel@gmx.de>

  * #?/Makefile: removed -lm from the linker libs as nothing needs floating
    point math. Also added dump as target.

2008-03-03  Thore Böckelmann <tboeckel@gmx.de>

  * demo/demo7.c: slightly adapted the placement restrictions to respect the
    parent group's width and height. This really fixes the size expansion
    problems of too small windows.

#### v26.1 RELEASE ############################################################

2008-03-02 Jens Langner <Jens.Langner@light-speed.de>

  * misc: some more final v26.1 release preparation changes.
  * mcp/Makefile: added the italian translation to the makefile.
  * mcp/locale/italian.ct: renamed italiano.ct to italian.ct as we use plain
    english names or otherwise we get trouble with SVN when we add other
    catalog with names that do not conform to US-ASCII.

2008-03-02 Alfonso Ranieri <alforan@tin.it>

  * mcp/locale: catalog name reverted to "TheBar.catalog"
  * mcp/locale/italiano.ct: added italian catalog translation
  * button/class.c: added a check for MUIA_NoNotify
    when setting MUIA_Selected in OM_SET, because it
    is done by hands

2008-03-01 Jens Langner <Jens.Langner@light-speed.de>

  * misc: final v26.1 release preparation changes.
  * doc/MCC_TheBar.doc, include/mui/TheBar_mcc.h: added Id and URL SVN
    keywords so that developers can easily identify which version of the
    doc and include file they have and where to look for an updated version.

2008-02-29 Alfonso Ranieri <alforan@tin.it>

  * Updated demo/demo7.c

2008-02-25  Alfonso Ranieri <alforan@tin.it>

  * Fixed makefiles DESTDIR locations

2008-02-25  Alfonso Ranieri <alforan@tin.it>

  * Added install target in makefiles
  * Revisited mos broken dt detection
  * Little fix to b2chunky even if that app is quite
    broken and obsolete

2008-02-24  Alfonso Ranieri <alforan@tin.it>

  * gooooshhh what a bug in class.c while loading brushes...
    This is my very own fault :P

2008-02-23  Thore Böckelmann <tboeckel@gmx.de>

  * mcc/button/utils.c: fixed a minor compiler warning.

2008-02-23  Alfonso Ranieri <alforan@tin.it>

  * Added MUIA_Application_UsedClasses to all demos
  * Removed include/mui/muiundoc.h and needed only
    needed MUI undocs stuff to each class.h
  * Some little fix somewhere

2008-02-23  Matthias Rustler <mrustler@gmx.de>

  * Update of AROS port
  * Replaced IORequest by IOStdReq to silence the "iorequest too short"
    warnings under AROS

2008-02-22  Jens Langner <Jens.Langner@light-speed.de>

  * include/mui/muiundoc.h: Added aliases for the MUIM_Backfill and
    MUIP_Backfill definitions which were often called "CustomBackfill"
    for MUI versions prior to 3.9.

2008-02-22  Alfonso Ranieri <alforan@tin.it>

  * Fixed mcc/library.c mos broken dt check
  * OK, last fixes. It now works on MOS/MUI3.9
    MOS/MUI4 classic/MUI3.8. Please don't add
    any feature or whatever, but consider it
    frozen.
  * mcp/utils.c - changed stch_l(); it must be
    int stch_l(const char *chr_ptr,long *u_ptr);
    returning the number of the converted chars,
    otherwise os3 mcp classes are all not working well
  * mcp/library.c - added a ClassExpunge() call if ClassInit()
    fails
  * mcp/class.c - fixed group frame gadget to prefs os3
    section
  * mcc/private.h - added BASEFLG_BROKENMOSPDT flags
    for that damned morphos broken picdt
  * mcc/class.c - loadDTBrush() does a better check for
    MorphOS now; mSetup() start a handler for MUI3.8 so
    that borderless-raised buttons can be deactivated if
    the window becomes inactive
  * mcc/library.c - added a ClassExpunge() call if ClassInit()
    fails
  * there must be something else I don't remember

2008-02-21  Alfonso Ranieri <alforan@tin.it>

  * mcc/build.c , button/build.c - in freeBitMaps() it must be
    "if(strip->normalBM)" and not "if(!strip->normalBM)",
    (again, who changed that?)
  * mcc/class.c - fixed hits in makePicsFun() because not checking
    some stuff (who changed that?)

2008-02-20  Jens Langner <Jens.Langner@light-speed.de>

  * mcp/library.c: fixed incorrect MUI3.9 version check because 20*20 is
    definitly not 20 :)

2008-02-20  Alfonso Ranieri <alforan@tin.it>

  * mcp/popbackground.c - fixed dispatchers definitions and some broken SetAttrs
  * mcp/library.c - fixed os3 classes init with no check
  * mcp/coloradjust.c - those GetAttr() made it crashes on various systems. Not
    investigated just put under #ifdef
  * mcp/backgroundadjust.c - fixed dispatchers definitions

  While doing all that bug fixing work, I realized that the actual form of TheBar sources
  are in a strange form. I really think SDI should be rewritten for a better information
  incapsulation. Sharing all istance data, methods, dispatchers everywhere is a *bad* MUI
  programming practice and something I always avoid. Now, let's fix it and then will see...

2008-02-20  Thore Böckelmann <tboeckel@gmx.de>

  * mcp/locale/german.ct: updated german translation to latest changes.
  * mcc/class.c, mcc/button/class.c: reverted some of Alfonso's latest changes
    as these were based on old code. Alfonso, please learn how to use SubVersion
    properly. Otherwise our changes will get lost without comment.

2008-02-20  Alfonso Ranieri <alforan@tin.it>

  * mcp/class.c - some changes to make it works on any MUI
  * mcp/locale/TheBar_mcp.cd - added more space spacer strings
  * mcc/class.c - again layout changes and added more space spacer
  * mcc/button/class.c - many changes, expecially to mDraw()
  * include/mui/TheBar_mcc.h - added more space spacer definitions
  Works fine on MorphOS/MUI4 and MorphOS/MUI3.9 - Compiles on gentoo
  cross for OS4, but TheBar-Test.c (see later); to test on classic.
  Is TheBar-Test.c really needed? There are many demos that it could
  be removed.

--- Log for TheBar-Test ---
.obj_os4/TheBar-Test.o(.sbss+0xc): In function `SaveFunc':
TheBar-Test.c:103: multiple definition of `UtilityBase'
/usr/local/amiga/ppc-amigaos/SDK/newlib/lib/crtbegin.o(.sbss+0x8): first defined here
.obj_os4/TheBar-Test.o(.sbss+0x28): In function `SaveFunc':
TheBar-Test.c:104: multiple definition of `IUtility'
/usr/local/amiga/ppc-amigaos/SDK/newlib/lib/crtbegin.o(.sbss+0x4): first defined here
collect2: ld returned 1 exit status
make: *** [bin_os4/TheBar-Test] Error 1
---


2008-02-19  Alfonso Ranieri <alforan@tin.it>

  * Some little change to mcc/class.c and mcc/private.h
    I noted a strange group layout happening in very rare
    condition on MUI<4 and Virtual. Find a solution simply
    forcing askMinMax. Example: strange on 68K, press the
    search button; bar height is incresed by one!

    Now the last part: I did't have a gcc 68K installed on MOS
    neither on gentoo. I grabbed one, but I am not able to compile
    TheBar with that. If someone could address me what I need for a
    safe 68K compilation... (I use SASC on MorphOS and atm TheBar
    seems very difficoult to compile with sas).

2008-02-19  Jens Langner <Jens.Langner@light-speed.de>

  * Debug.h: replaced all abort() usages in our ASSERT() macros with the
    respective calls to assert(). This should prevent the MorphOS compile
    from not linking and be a bit more intuitiv IMHO. :)

2008-02-19  Thore Böckelmann <tboeckel@gmx.de>

  * mcc/button/build.c: removed some left over debug macros.
  * demo/demo[2345].c: fixed some demos to let the appearance cycle show the
    actual default mode.
  * mcc/class.c, mcc/button/class.c, mcc/button/build.c: some code cleanup.
  * mcc/brc1.c, mcc/button/brc1.c: fixed a bug in the ByteRun1 decoder which
    caused internal images to be not drawn at all (like in demo5 and demo8).

2008-02-18  Jens Langner <Jens.Langner@light-speed.de>

  * mcc/button/utils.c: the own strlcpy() and strlcat() functions are only
    required for OS3 compiles where the old libnix version is used. For our
    normal clib2 compiles and also for MorphOS compiles they are not required
    as the newer libnix already has them.

2008-02-18  Alfonso Ranieri <alforan@tin.it>

  *  ARGGGGGGGGGGG!
  *  OK, We are near something to be called "stable";
     still to test on classic...
  *  OK, now the hard part: making button/class.c to work again
     everywhere. This would take time...
  *  trunk/mcp/class.c - Fixes again

2008-02-18  Thore Böckelmann <tboeckel@gmx.de>

  * mcp/locale/german.ct: updated german translation to latest changes.
  * mcp/library.c: the catalog was never closed upon expunge.
  * mcc/class.c: some minor code cleanup.
  * mcc/button/class.c: the OS4 build now uses the new BltBitMapTags() function
    for all blit operations.
  * mcc/button/class.c: used the isFlagSet/Clear() were they were not used yet
    and restructured the source a little bit to better make clear which "if()"
    causes which reactions. Also fixed the partly screwed up ChangeLog.
  * mcc/private.h: fixed broken OS3 build.

2008-02-18  Alfonso Ranieri <alforan@tin.it>

  * trunk/mcp/class.c - Trying to make it work with any MUI. Not sure if it is totally
    fixed at the moment. Should be tested on MUI3.9/OS4 and classic
  * trunk/mcp/locale/TheBar_mcp.cd - added some missing definition
  * trunk/mcp/private.h - Removed some conditional preprocessor definition
  * trunk/mcc/build.c - free bit maps now clear some fields, otherwise switching screen
    might cause the class to use non existing stuff
  * trunk/mcc/class.c - it was broken on MUI3.9/MOS (f.e. YAM freezes creating the write
    window); seem fixed now
  * trunk/mcc/button/build.c - as for build.c in mcc
  * trunk/mcc/button/utils.c - some little changes
  * trunk/mcc/button/class.c - Button background is used as default ad OM_NEW


2008-02-14  Thore Böckelmann <tboeckel@gmx.de>

  * mcc/private.h, mcc/class.c: added isAnyFlagSet() macro to check if at least
    one of the given flags is set.
  * mcc/button/class.c: setting the bar's frame attribute is now only done for
    MUI4 as this caused unwantend additional frames with MUI3.x after a button
    was hidden and shown again at least once.
  * mcc/button/class.c: MUIA_FrameDynamic/Visible is now only modified with
    at least MUI3.9 as MUI3.8 doesn't know these attributes.
  * mcc/class.c: made the centered layout consistent between virtual and normal
    bars.

2008-02-12  Thore Böckelmann <tboeckel@gmx.de>

  * mcc/class.c: sorting of more than 31 buttons was broken as the MethodID of
    the message was never set in this case.

2008-02-07  Thore Böckelmann <tboeckel@gmx.de>

  * mcc/class.c: replaced some left over "value & flag" style bit checks.

2008-02-06  Thore Böckelmann <tboeckel@gmx.de>

  * #?.c: replaced all "value & flag" style bit checks and manipulations by
    isFlagSet() and setFlag() style macros. This should make the source a lot
    more readable and less error prone to wrong checks.

2008-02-02  Jens Langner <Jens.Langner@light-speed.de>

  * TheBar-Test.c: fixed another minor compiler warning.
  * mccinit.c: updated to latest available version which fixes some minor
    compiler warnings when used with the MorphOS SDK.

2008-02-02  Thore Böckelmann <tboeckel@gmx.de>

  * demo10.c: fixed several things to make it compilable for OS4.

2008-02-01  Alfonso Ranieri <alforan@tin.it>

  * Fixed demo10.c and demos Makefile. There is still something  that
    prevents demo10.c NTRaiseActive to make it works fine in main trunk
    code; too tired to find it now.
  * brc1.c were (in mcc/ and in button/) broken. Fixed with my version.
    Last release was OK, while those in the actual svn didn't make
    any compressed image to work (see demo4 f.e.). Note that is
    a function returning (an int) 0 for success, 1 otherwise; so
    defining it as returning a BOOL might be quite confusing.
  * Changed makebutton() in mcc/class.c to something more reasonable
    (attrs[i] changed to tag-> to make the code faster and more readable)
  * Fixed layout hook in class.c; when the bar was vertical and the
    position was at right (bottom), the last button could be drawn in a non
    correct way; it MUST be tested on 68K.
  * Added demo10.c in the demo drawer, because it is cute :)
    So modified Makefile and added pics/Balls.png
  * Note that the TheBarDemo doesn't compile for OS4 on linux cross

2008-01-30  Alfonso Ranieri <alforan@tin.it>

  * If you set up a notification on <attr,MUIV_Everytime>, there was no
    way to obtain a real value of attr in the invoked method. MUIV_TriggerValue
    was always returned. Fixed, extenting MUIP_SendNotify.

2008-01-30  Jens Langner <Jens.Langner@light-speed.de>

  * include/mui/TheBar_mcc.h: added the required "STACKED" attribute to the
    extended MUIP_TheButton_SendNotify structure. This is required for AROS
    compatibility.
  * mcc/button/class.c: fixed an illegal access to _window() which happened
    due to recent changes where a the visible status of a button was not
    properly checked.

2008-01-30  Thore Böckelmann <tboeckel@gmx.de>

  * mcc/class.c: the event handler was no longer added in MUIM_Setup, but it
    was removed in MUIM_Cleanup, which caused instant crashes.
  * mcc/button/class.c: added the button ID to the AskMinMax debug output, as
    this makes the output easier to read.
  * mcc/utils.c: added the usual ENTER()/RETURN() macro calls to the memory
    allocation functions.
  * mcc/class.c: replaced a custom button search by a call to findButton().

2008-01-29  Jens Langner <Jens.Langner@light-speed.de>

  * misc: backported the lastest changes done in the mui4 branch to our
    trunk. The changes include:
    - changed all memcpy() back to copymem() while copymem() is a macro
      again which defaults to CopyMem() for MorphOS now.
    - introduced new reallocVecPooledNC() function and used it in the
      MUIM_Notify method of TheBar.mcc
    - the allocVecPooled/freeVecPooled function use AllocPooled() and
      FreePooled() for all platforms again.
    - disabled MUIM_HandleEvent and Window event handler for TheBar.mcc
    - use IDCMP_MOUSEOBJECT instead of IDCMP_MOUSEMOVE for the button
      event handler.
    - changes to the FLG_MouseOver handling in TheButton.mcc
    - we skip the MUIM_Backfill method for MUI4 systems.

2008-01-28  Alfonso Ranieri <alforan@tin.it>

  * Bumped MOS/MUI branch to the last one
  * mcc/class.c: Fixed MUIM_TheButton_Build called on TheBar object in Hide
    and Sleep of TheBar mcc

2008-01-20  Thore Böckelmann <tboeckel@gmx.de>

  * mcc/class.c: fixed a "pointer to int without cast" warning and added the
    usual ENTER()/RETURN macro calls.

2008-01-19  Alfonso Ranieri <alforan@tin.it>

  * Various docs update

2008-01-17  Alfonso Ranieri <alforan@tin.it>

  * mcc/class.c: pics are now load in a different order
    that should be the natural order of loading since
    the beginning but I was too lazy to do that :P
    I will update documentation asap

2008-01-17  Thore Böckelmann <tboeckel@gmx.de>

  * mcc/button/class.c: changed variable type for checkIn() result usage.
  * mcc/button/class.c: fixed possibly random return value of checkIn().

2008-01-15  Thore Böckelmann <tboeckel@gmx.de>

  * mcc/class.c: fixed two "type punned pointer violates strict alias rules"
    warnings.
  * misc: added ENTER() and RETURN()/LEAVE() macros where they were still
    missing.

2008-01-14  Jens Langner <Jens.Langner@light-speed.de>

  * misc: merged the major changes done in the mosmui4 branch onto our main
    trunk and bumped our trunk version to v26. The major changes found on
    the mosmui4 branch seem to be:
    - new MUIV_TheButton_DisMode_Blend && MUIV_TheButton_DisMode_BlendGrey
      value of the DisMode attribute.
    - standard frame type for a button is now MUIV_Frame_Button
    - use MUIA_FrameDynamic and disable MUIA_FrameVisible on MUI4 to care
      for all the frame handling instead of doing frame stuff ourself.
    - added own overloading backfill method (MUIM_Backfill)
    - removed the ENV variable for setting the alpha channel value of EPAA
      calls dynamically.
    - default color precision is now "GUI" instead of "Image".
    While the above changes seem to be only the major changes, there might
    be some smaller ones I may have forgotten during the merge. So please
    everyone please have a look what might not work anymore or not as
    expected and report back. In addition, please every MUI4 user/developer
    should have a look if the MUI4 changes applied to the main trunk work
    now like with the old sources of the mosmui4 branch. And please stop
    using thge mosmui4 branch. Every MUI4 specialities should be done using
    a "if(lib_flags & BASEFLG_MUI4)" or respective #ifdef statement.

2008-01-14  Thore Böckelmann <tboeckel@gmx.de>

  * mcc/button/library.c: added missing PictureDTBase pointer.
  * mcc/build.c, mcc/button/build.c: fixed a memory leak.

2008-01-12  Jens Langner <Jens.Langner@light-speed.de>

  * mcc/brc1.c, mcc/button/brc1.c: rework to not use any goto statement and
    return a BOOL instead.
  * mcc/button/class.c: fixed broken OS4 compile as the current SDK of OS4
    miss the inline4 define for the WritePixelArrayAlpha() function.

2008-01-09  Alfonso Ranieri <alforan@tin.it>

  * branches/mosmui4: Comitted the last changes to mosmui4 branch. Please use
    that for MOS release.

2008-01-09  Thore Böckelmann <tboeckel@gmx.de>

  * mcc/button/class.c: fixed broken OS4 build.
  * mcc/misc: the OS3 build now has full true alpha channel support if at least
    cybergraphics.library V45 and picture.datatype V46 are available. This is
    true with AfA 3.96+ installed. This makes the wrong backgrounds vanish in
    YAM's toolbars.

2008-01-06  Matthias Rustler <mrustler@gmx.de>

  * Catalog creation for AROS port.
  * demo7: AROS version of DoSuperNew()

2008-01-04  Vit Sindlar <sindlarv at centrum dot cz>

  * mcp/locale/czech.ct: updated Czech catalog translation

2008-01-03  Thore Böckelmann <tboeckel@gmx.de>

  * mcp/locale/#?.ct: changed all .ct file names to english names instead of
    translated ones.

2007-12-28  Thore Böckelmann <tboeckel@gmx.de>

  * demo/demo7.c: fixed broken DoSuperNew() function for OS3 and OS4. This
    should fix the crashes that some people experienced.

2007-12-27 Jens Langner <Jens.Langner@light-speed.de>

  * include/SDI_compiler.h: adapted SDI macros to not produce warnings on a
    MorphOS compile.

2007-12-27  Thore Böckelmann <tboeckel@gmx.de>

  * demo/Makefile: modified Makefile to build with newlib.library instead of
    clib2 on OS4.
  * mcp/C_c.sd: added missing "SDI_compiler.h" include

2007-12-23 Matthias Rustler <mrustler@gmx.de>

  * AROS port

#### v21.5 RELEASE ############################################################

2007-12-21 Jens Langner <Jens.Langner@light-speed.de>

  * misc: final release preparation changes.

2007-12-04 Jens Langner <Jens.Langner@light-speed.de>

  * mcc/button/build.c: fixed a possible crash bug where a NUL pointer
    was being accessed in case a textonly toolbar was opened and
    data->image was accessed uninitalized.

2007-12-03  Vit Sindlar <sindlarv at centrum dot cz>

  * mcp/locale/czech.ct: added Czech catalog translation

2007-12-01  Pär Boberg <pbobbenb@spray.se>

  * mcp/locale/svenska.ct: Minor update.

2007-11-07  Thore Böckelmann <tboeckel@gmx.de>

  * mcc/build.c, mcc/button/class.c, mcc/button/build.c: replaced several
    system specific #ifdef's concering alpha channel handling by a simple
    #ifdef which is set according to whether a system can handle an alpha
    channel or not. This makes the dynamic compilation more easier to
    understand.

2007-11-06  Alfonso Ranieri <alforan@tin.it>

  * I discovered that WritePixelArrayAlpha() is in
    OS4 too. So I managed various parts of the code
    to make PNG pics to display their wonderfull
    shadow on OS4 too. I make it to compile and work
    on a friend (THanks Shinkuro) with OS4 on IRC.
    Please test if it works there.

2007-11-05  Thore Böckelmann <tboeckel@gmx.de>

  * mcp/penadjust.c: fixed a typo.

2007-11-03 Jens Langner <Jens.Langner@light-speed.de>

  * mcp: removed a virtual frame where no virtual frame was necessary.

2007-11-03  Pär Boberg <pbobbenb@spray.se>

  * mcp/locale/svenska.ct: Updated according to changes.

2007-11-02 Thore Böckelmann <tboeckel@gmx.de>

  * mcp/class.c: added the register group to the cycle chain.

2007-10-31 Jens Langner <Jens.Langner@light-speed.de>

  * mcc/button/Makefile: changed dependency management to use an
    automatically generated Makefile.depend file instead of having fixed
    include dependencies in the main Makefile.
  * mcc,mcp: replaced all stccpy() uses by the more secure strlcpy() uses.
  * mcc/Makefile, Makefile.depend: changed dependency management to use an
    automatically generated Makefile.depend file instead of having fixed
    include dependencies in the main Makefile.
  * mcp/class.c, utils.c: removed the recently added properitary msnprintf()
    function and replaced it by a general snprintf() as using it with %ld
    should always be fine. So please use snprintf() instead.
  * mcp/locale/TheBar_mcp.cd: fixed some recently added typos and changed
    the copyright text to be formatted in a more standard way.
  * mcp/Makefile.depend: added automatically generated dependency file which
    will be included by the main Makefile on each run. This should fix all
    dependency issues.

2007-10-05  Thore Böckelmann <tboeckel@gmx.de>

  * mcp/backgroundadjust.c, mcp/penadjust.c, mcp/popbackground.c, mcp/poppen.c:
    fixed some compiler warnings.

2007-09-02  Pär Boberg <pbobbenb@spray.se>

  * mcp/locale/svenska.ct: Just bumped the version number to match v21.4
    release.

2007-08-29  Thore Böckelmann <tboeckel@gmx.de>

  * include/mui/TheBar_mcc.h, mcc/class.c: renamed the "class" member in struct
    MUIS_TheBar_Button to "_class" to avoid problems with the reserved word
    "class" in C++. This fixes bug #1781948.

2007-08-19 Jens Langner <Jens.Langner@light-speed.de>

  * include/mccinit.c: updated to latest 1.10 version

#### v21.4 RELEASE ############################################################

2007-07-25  Thore Böckelmann <tboeckel@gmx.de>

  * mcc/Makefile: adapted pathes for normal and virtual subclasses.
  * #?/library.c: now really uses the 3 parameter version of GETINTERFACE()
    defined in mccinit.c instead of the old obsolete version in mcc_common.h.
    The user definable functions (i.e. ClassInit()) must be declared before
    the inclusion of mccinit.c.
  * include/mccinit.c: updated to latest 1.8 version which really uses the
    GETINTERFACE() macro with 3 parameters.

2007-07-25 Jens Langner <Jens.Langner@light-speed.de>

  * include/mccinit.c: updated to latest 1.7 version

2007-07-24  Thore Böckelmann <tboeckel@gmx.de>

  * include/mccinit.c: updated to latest 1.6 version which fixes an unbalanced
    if statement.

2007-07-23 Jens Langner <Jens.Langner@light-speed.de>

  * include/mccinit.c: updated to latest 1.5 version which should take care
    of stack issues.

2007-07-05 Jens Langner <Jens.Langner@light-speed.de>

  * include/mccinit.c: updated to latest 1.4 version and adapted all our
    library.c files to make use out of the new stack enforcing mechanisms.

2007-06-29  Thore Böckelmann <tboeckel@gmx.de>

  * doc/MCC_TheBar.doc: corrected example code for mutual exclusive buttons. The
    old version used the image index for mutual exclusion instead of the button
    ID.

2007-06-28  Thore Böckelmann <tboeckel@gmx.de>

  * mcc/Debug.c: changed wrong final output of debug flags.
  * demo/#?: modified all demos to be buildable for all supported plattforms.

2007-06-27  Thore Böckelmann <tboeckel@gmx.de>

  * demo/demo[248].c: applied patches kindly provided by Thomas Klein.

2007-06-22  Thore Böckelmann <tboeckel@gmx.de>

  * mcp/locale/francais.ct: updated french translation which was kindly provided
    by Alexandre Balaban.
  * mcc/scale.c, mcc/button/scale.c: replaced all floating point calculations
    by fixed point integer calculations. First this is much faster (because of
    being integer math only) and second it saves the headaches of dealing with
    the various math libraries and all their problems. This also fixes bug
    #1724177 which was triggered by non-initalized math library bases.
  * mcc/button/Debug.c: readded accidently removed GUI debug flag.

2007-06-21  Thore Böckelmann <tboeckel@gmx.de>

  * mcp/Debug.c: removed superflous debug flags.
  * mcc/Debug.c, mcc/button/Debug.c mcc/scale.c, mcc/button/scale.c: added
    SCALE debug flag for debugging the image scaling stuff.
  * mcc/TheBar-Test.c: added an UNUSED qualifiert to the qual parameter as it is
    only used in the debug statement.
  * mcc/button/Makefile: removed the TestButton target, as the button cannot be
    tested as a stand-alone-component. Anyway, there has never been a TestButton
    program so far.
  * mcc/Makefile: added -lm to the linker flags for all platforms.

2007-06-13  Thore Böckelmann <tboeckel@gmx.de>

  * #?/Debug.c: unified the _DPRINTF() functions for all platforms.

2007-06-10 Jens Langner <Jens.Langner@light-speed.de>

  * #?/Makefile: minor update/optimization on Makefiles.
  * include/mccinit.c: updated to latest 1.1 version which should fix possible
    stack issues during the LibInit() phase. Custom libraries will now be opened
    during the LibOpen() phase instead while maintaining an own mutual exclusive
    locking variable.

2007-06-09 Jens Langner <Jens.Langner@light-speed.de>

  * include/mccinit.c, mcc/library.c, mcp/library.c: replaced the old obsolete
    mccheader.c by the new mccinit.c which should come with a much more clear
    interface and documentation on how to use it for a basis of a MUI custom
    class. This should significantly reduce the possibility of race conditions
    in the mcc/library init code.

2007-05-29  Thore Böckelmann <tboeckel@gmx.de>

  * include/mccheader.c: reworked the LibOpen() and LibClose() functions to
    increment/decrement the lib_Open counter before obtaining the semaphore to
    prevent a possible race condition with LibExpunge().

2007-03-23  Thore Böckelmann <tboeckel@gmx.de>

  * #?/Debug.c: fixed wrong final output of debug classes and flags.

2007-03-11 Thore Böckelmann <tboeckel@gmx.de>

  * #?/Debug.c: disabling a debug flag was not possible due to a check for the
    '!' at a wrong index.

2007-03-10  Pär Boberg <pbobbenb@spray.se>

  * mcp/locale: Added swedish translation. (forgot the .ct file)

#### v21.3 RELEASE ############################################################

2007-03-06  Jens Langner <Jens.Langner@light-speed.de>

  * mcp/locale: added french and german catalog translation kindly provided
    by the authors of these translations.

2007-02-28  Jens Langner <Jens.Langner@light-speed.de>

  * mcp/class.c: fixed a stupid illegal memory access where the ocheck()
    function was used with a NULL pointer, which in fact caused the tr()
    function to bail out.

#### v21.2 RELEASE ############################################################

2007-02-27  Jens Langner <Jens.Langner@light-speed.de>

  * mcc/class.c: The MUIA_TheBar_SelImages/DisImages attribute wasn't
    correctly read during OM_NEW and therefore didn't work at all.

2007-02-19  Thore Böckelmann <tboeckel@gmx.de>

  * mcc/button/Debug.c, mcc/button/utils.c: added "GUI" as debugging flag and
    cleaned up source a little bit.
  * mcc/button/library.c: IDatatypes was obtained twice, but IDiskfont was
    never obtained, hence all attempts to load a font via OpenDiskFont() did
    crash. This fixes bug #1662653.

2007-01-31  Jens Langner <Jens.Langner@light-speed.de>

  * mcc/class.c: MUIA_TheBar_DisImages and MUIA_TheBar_SelImages is now also
    OM_GET-able as documented in the autodocs.
  * mcc/class.c: the BASEFLG_MORPHOS flag wasn't set which may have caused
    that the PDTM_READPIXELARRAY operation while loading an image via the
    datatypes system failed or caused to show the images distorted on
    MorphOS. This should hopefully fix bug #1641342.

2007-01-28  Jens Langner <Jens.Langner@light-speed.de>

  * mcp: renamed the GetStr() locale translation function to the much shorter
    tr() naming and also fixed bug #1640924 where we did use the wrong
    catalog file naming.

2007-01-27  Jens Langner <Jens.Langner@light-speed.de>

  * mcp/utils.c: our own static stch_l() function is not required for a MOS
    build as well.
  * mcc/button/utils.c: our own static stcd_l() function is not required for
    a MorphOS build and can therebefore conditionally removed.
  * Makefile: removed all target specific (os4,os3,mos) makefiles and replaced
    them with a single 'Makefile' for all our sub-projects. This new makefile
    includes methods to automatically identify the HOST and TARGET opererating
    system and compiles the sources for the found target OS. In addition, that
    Makefile can be used to also compile for all supported targets via
    'make OS=XXX' where XXX is the abbreviation for the operating system.

#### v21.1 RELEASE ############################################################

2007-01-20  Jens Langner <Jens.Langner@light-speed.de>

  * misc: cleaned up certain areas of the sources according to found
    incompatibilities to the revised docuementation.
  * doc/MCC_TheBar.doc: updated autodocs to latest changed to the API
    of TheBar.mcc.

2007-01-16  Jens Langner <Jens.Langner@light-speed.de>

  * mcc/button: changed the window event handler to also always catch
    IDCMP_MOUSEBUTTONS to make it possible to catch the qualifier state in
    HandleEvent(). This should fix a bug where it might have happened that
    the wrong qualifier spec was active at the time a user pressed on a
    toolbar button.

2007-01-15  Jens Langner <Jens.Langner@light-speed.de>

  * mcp/library.c: forgot to define the mcp prefs image.
  * mcc: for being able to directly use a TheBar object for setting a new
    notify on a certain attribute change, new MUIM_TheBar_Notify and
    MUIM_TheBar_KillNotify wrapper methods were added. However both, the old
    way of first receiving the button object via GetObject and the new more
    direct and nicer way are supported equally.
  * button: reworked the overloaded MUIM_Notify method to catch all notifies by
    signaling the super class to always send all registered notifies to the
    button object instead of sending it to the destination directly. This
    allowed to introduce a new private SendNotify method which will generate
    a proper destination message where a user can now use a new variable
    (MUIV_TheBar_Qualifier) in their notifies which will automatically be
    replaced by the currently active qualifiers value when the notify was
    emitted. This should finally allow to receive key qualifier information
    with every notify message received. To complete the feature new
    MUIM_KillNotify and MUIM_KillNotifyObj overloading method were added.
  * mcc,button: significantly improved the internal button list management to
    correctly take care of freeing the whole list including their membery
    during the normal OM_DISPOSE phase of a TheBar object.
  * misc: bumped VERSION to 21 because of the huge API change.
  * misc: replaced all copymem() macro uses by direct memcpy() ones.
    The c-library should be the one to trust here.

2007-01-11  Jens Langner <Jens.Langner@light-speed.de>

  * misc: fixed all "Appareance" typos to use "Appearance" instead.

2007-01-02  Jens Langner <Jens.Langner@light-speed.de>

  * misc: updated all copyright notices to 2007.

2006-12-05  Jens Langner <Jens.Langner@light-speed.de>

  * include/mui/muiundoc.h: added the general muiundoc.h and distributed it's
    use to all our code instead of having to specify some of the yet undocumented
    MUI defines throughout our own sources.
  * mcp: ported the preferences class source code also to our generalized MCC
    framework and make it compile for all our major three platforms. So now all
    source code of TheBar should be portable accross all major Amiga platforms
    and hopefully running there as well :)

2006-12-03  Jens Langner <Jens.Langner@light-speed.de>

  * button: reworked the whole sources to also fit into the new general MCC
    framework. Added makefiles for all three major platforms and make the sources
    compile for all of them. Finally TheButton.mcc seems to work as well.
  * mcc/Makefile.#?: reworked all makefiles to also compile the TheBarVirt.mcc
    class on a normal make operation.
  * mcc, mccv: removed the 'mccv' directory and its whole sources as they were
    completly identical to the one of the mcc instead of the "#ifdef VIRTUAL"
    statements. However, there were no real reason to keep two identical copies
    of the same sources. So they are now unified and the 'mccv' directory
    completly removed.

2006-12-02  Jens Langner <Jens.Langner@light-speed.de>

  * mcc: the source do compile for OS3 and MOS again. Also the test application
    seems to work fine for the moment. So lets see how the MCC behaves with all
    the demo's included. But we seem to get quite fare for now.
  * mcc/TheBar-Test.c:  fixed the test application to not crash upon exit and
    also set the PicsDir so that the images are loaded correctly if executed
    within the respository hierarchy.
  * mcc: added debugging output to all involved functions so that our further
    work gets a bit more easier when developing on TheBar.mcc

2006-12-01  Jens Langner <Jens.Langner@light-speed.de>

  * mcc: some more general cleanup of definitions and used files.
  * mcc: removed all "register" definitions as there is really no reason
    to set all kind of variables explicitly as register. The compiler should
    decide which value to directly put on a register and which not. Just
    defining every variable "register" doesn't help at all.

2006-11-30  Jens Langner <Jens.Langner@light-speed.de>

  * mcc/TheBar-Test.c: added new testing application which should allow to
    directly run tests on TheBar.mcc without having to update the library,
    reboot and run the tests. Now the testing application will directly
    link against all MCC modules and as such acts as a standalone application.
    That might come really handy at some point.

2006-11-29  Jens Langner <Jens.Langner@light-speed.de>

  * mcc, include: ported MCC sources to the generalized mccheader.c
    framework and added GNU makefiles for all three mainly supported
    targets (OS3/OS4/MOS). SAS/C compilation should now be considered
    obsolete as we want to concentrate on getting everything running
    with GCC instead. However, please note that the MCC sources just
    compile and link now. The porting is still largly untested but
    should soonish end up in a usable state hopefully.
  * misc: applied latest changes supplied by Alfonso.

2006-11-12  Jens Langner <Jens.Langner@light-speed.de>

  * converted old CVS repository to sf.net based SVN

2005-11-30  Alfonso Ranieri <alforan@tin.it>

  * released sources under LGPL at sf.net
